// ** page-event.scss

// 1ì› ì†¡ê¸ˆ ì´ë²¤íŠ¸ ì˜ì—­ ì „ì²´
.page-event {
  z-index: $Z-EVENT-PAGE;
  visibility: hidden;
  top: 0;
  width: 100%;
  max-width: $MAX-WIDTH;
  height: 100%;
  transition: visibility 100ms;
  overflow-y: auto;
  position: fixed;
  left: 50%;
  transform: translateX(-50%);

  // ë†’ì´ ì´ˆê³¼ ì‹œì˜ í™”ë©´ì„ ìœ„í•œ ë°±ê·¸ë¼ìš´ë“œ
  &__background {
    opacity: 0;
    visibility: hidden;
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: $MAX-WIDTH;
    height: 100%;
    background-size: 100%;
    background-color: $CL-BG;
    transition: opacity 600ms, visibility 400ms;
  }
}

// ì´ë²¤íŠ¸ ì˜ì—­
.event {
  //ë¡œì»¬ ê²½ë¡œ
  $_path-image: $PATH-IMAGE + "page-event/";
  $_imgName: event;

  //ë¡œì»¬ ë¯¹ìŠ¤ì¸
  @mixin _bgi($imageName, $type: "png") {
    background-image: url(#{$_path-image}#{$imageName}.#{$type});
    background-repeat: no-repeat;
    background-size: 100%;
  }

  position: relative;
  z-index: 1;
  overflow-y: hidden;

  // íŠ¸ëœì§€ì…˜ ë•Œ ë³´ì—¬ì¤„ ë°°ê²½
  &__transition-back {
    display: none;
    opacity: 0;
    visibility: hidden;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: $CL-BG;
    transition: opacity 400ms, visibility 100ms;
  }

  // ë‹«ê¸° ë²„íŠ¼
  &__btn-close {
    z-index: 1;
    position: absolute;
    top: getPercent(25);
    right: getPercent(40);
    @include percentSize(57, 59);
    @include _bgi("#{$_imgName}-btn-close");
  }

  // ì¿ í° ë²„íŠ¼
  &__btn-coupon {
    z-index: 1;
    position: absolute;
    top: getPercent(62);
    right: getPercent(98);
    @include percentSize(114, 48);
    @include _bgi("#{$_imgName}-btn-coupon");
  }

  // ì¹´í†¡ ì—…ë°ì´íŠ¸ ë²„íŠ¼
  &__btn-update {
    z-index: 1;
    position: absolute;
    top: getPercent(284);
    right: getPercent(138);
    @include percentSize(155, 44);
    @include _bgi("#{$_imgName}-btn-update");
  }

  // ìœ„ìª½ ì˜ì—­ ì „ì²´
  &__top {
    z-index: $Z-EVENT-CONTENTS;
    position: relative;
    transform: translateY(-100%);
    transition: transform 250ms;
  }

  // ìœ„ìª½ ì˜ì—­ ì‹¤ì§ˆ ì´ë¯¸ì§€
  &__top-contents {
    @include percentSize(750, 667);
    @include _bgi("#{$_imgName}-top-contents", "jpg");
  }

  // ì•„ë˜ìª½ ì˜ì—­ ì „ì²´
  &__bottom {
    z-index: $Z-EVENT-CONTENTS;
    position: relative;
    transform: translateY(110%);
    transition: transform 250ms;
  }

  // ì•„ë˜ìª½ ì˜ì—­ ì‹¤ì§ˆ ì´ë¯¸ì§€
  &__bottom-contents {
    @include percentSize(750, 767);
    @include _bgi("#{$_imgName}-bottom-contents", "jpg");
  }
}

// ì†¡ê¸ˆí•˜ê¸° ë²„íŠ¼
.main-btn-transfer {
  visibility: hidden;
  z-index: $Z-TRANSFER-BTN;
  position: fixed;
  bottom: 5px;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  max-width: $MAX-WIDTH;

  .btn-transfer {
    @include bgi("btn-transfer");
    @include percentSize(734, 145);
    margin-left: getPercent(15);
    transform: translateY(110%);
    transition: transform 300ms;
  }
}

// ğŸ‘‹ ì´ë²¤íŠ¸ í™”ë©´ì´ ë³´ì—¬ì§€ëŠ” ê²½ìš°
.-event-show {
  overflow-y: hidden;

  // ë©”ì¸ í˜ì´ì§€ ìˆ¨ê¹€ ì²˜ë¦¬
  .page-main {
    opacity: 0;
    transition: opacity 10ms;
    transition-delay: 500ms;
  }

  // ë©”ì¸ ì˜ì—­ì˜ ì• ë‹ˆë©”ì´ì…˜ ì¼ì‹œì •ì§€
  .ani {
    animation-play-state: paused;
  }

  // ì´ë²¤íŠ¸ í˜ì´ì§€ í‘œì‹œ ì²˜ë¦¬
  .page-event {
    visibility: visible;
  }

  // ì´ë²¤íŠ¸ í˜ì´ì§€ ì „ì²´ ë°°ê²½ í‘œì‹œ
  .page-event__background {
    visibility: visible;
    opacity: 1;
    transition: opacity 400ms, visibility 100ms;
  }

  // ìœ„ì—ì„œ ë‚´ë ¤ì˜¤ëŠ” ì• ë‹ˆë©”ì´ì…˜
  .event__top {
    @include animation(event-page-show-top, 550ms);
    transform: translateY(0%);
  }

  // ì•„ë˜ì—ì„œ ì˜¬ë¼ê°€ëŠ” ì• ë‹ˆë©”ì´ì…˜
  .event__bottom {
    @include animation(event-page-show-bottom, 550ms);
    transform: translateY(0%);
  }

  // ì´ë²¤íŠ¸ í™”ë©´ì˜ ë©”ì¸ ë²„íŠ¼ í‘œì‹œ
  .main-btn-transfer {
    visibility: visible;
  }

  // ì†¡ê¸ˆí•˜ê¸° ë²„íŠ¼ ë’¤ëŠ¦ê²Œ ì˜¬ë¼ì˜¤ëŠ” íš¨ê³¼
  .btn-transfer {
    transform: translateY(0%);
    transition-delay: 200ms;
  }
}
